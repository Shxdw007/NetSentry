<Window x:Class="NetSentry.Dashboard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="NetSentry // OMNI_VIEW" Height="600" Width="900"
        Background="#000000">

    <Window.Resources>
        <!-- Стиль для текста терминала -->
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="Foreground" Value="#00FF41"/>
        </Style>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <Border BorderBrush="#00FF41" BorderThickness="0,0,0,2" Padding="10">
            <DockPanel>
                <TextBlock Text=">> NET_SENTRY_V2.0 " FontSize="28" FontWeight="Bold" DockPanel.Dock="Left">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#00FF41" BlurRadius="15" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock Text="by.Shxdw..." HorizontalAlignment="Right" VerticalAlignment="Center" Foreground="White" Opacity="0.7"/>
            </DockPanel>
        </Border>

        <!-- LIST -->
        <ListBox Grid.Row="1" x:Name="MachinesList" Background="#050505" BorderThickness="0" Margin="0,15">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <!-- Карточка ПК -->
                    <Border BorderBrush="#333" BorderThickness="1" CornerRadius="4" Background="#0A0A0A" Margin="0,5" Padding="15" Width="820">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="250"/>
                                <!-- Инфо -->
                                <ColumnDefinition Width="*"/>
                                <!-- Графики -->
                            </Grid.ColumnDefinitions>

                            <!-- ЛЕВАЯ КОЛОНКА: ИНФО -->
                            <StackPanel>
                                <TextBlock Text="{Binding Name}" FontSize="22" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="{Binding UserName, StringFormat='USER: {0}'}" Foreground="#888" Margin="0,5,0,0"/>
                                <TextBlock Text="{Binding OS}" Foreground="#555" FontSize="10" TextWrapping="Wrap" Margin="0,2,0,10"/>

                                <Border Background="#003300" BorderBrush="#00FF41" BorderThickness="1" HorizontalAlignment="Left" Padding="5,2" CornerRadius="3">
                                    <TextBlock Text="ONLINE" FontSize="10" Foreground="White" FontWeight="Bold"/>
                                </Border>
                            </StackPanel>

                            <!-- ПРАВАЯ КОЛОНКА: МЕТРИКИ -->
                            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="20,0,0,0">

                                <!-- CPU -->
                                <DockPanel Margin="0,0,0,5">
                                    <TextBlock Text="CPU LOAD" Width="70" Foreground="#AAA"/>
                                    <TextBlock Text="{Binding Cpu, StringFormat='{}{0:F0}%'}" DockPanel.Dock="Right" Foreground="White" Width="40" TextAlignment="Right" FontWeight="Bold"/>
                                    <ProgressBar Value="{Binding Cpu}" Maximum="100" Height="6" Background="#222" Foreground="#FF3333" BorderThickness="0"/>
                                </DockPanel>

                                <!-- RAM -->
                                <DockPanel Margin="0,0,0,5">
                                    <TextBlock Text="RAM FREE" Width="70" Foreground="#AAA"/>
                                    <TextBlock Text="{Binding RamFree, StringFormat='{}{0:F0} MB'}" DockPanel.Dock="Right" Width="60" Foreground="White" TextAlignment="Right"/>
                                    <ProgressBar Value="{Binding RamFree}" Maximum="16000" Height="6" Background="#222" Foreground="#00AAFF" BorderThickness="0"/>
                                </DockPanel>

                                <!-- DISK -->
                                <DockPanel>
                                    <TextBlock Text="DISK C:\" Width="70" Foreground="#AAA"/>
                                    <TextBlock Text="{Binding DiskFree, StringFormat='{}{0:F0} GB'}" DockPanel.Dock="Right" Width="60" Foreground="White" TextAlignment="Right"/>
                                    <!-- ProgressBar показывает ЗАНЯТОЕ место -->
                                    <ProgressBar Value="{Binding DiskUsagePercent, Mode=OneWay}" Maximum="100" Height="6" Background="#222" Foreground="#FFAA00" BorderThickness="0"/>
                                </DockPanel>
                            </StackPanel>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- FOOTER -->
        <TextBlock Grid.Row="2" Text="> This is a trial program for synchronizing the statistics of one PC with the server and the ability to monitor these statistics on a separate PC...." Foreground="#555" FontSize="10"/>
    </Grid>
</Window>
